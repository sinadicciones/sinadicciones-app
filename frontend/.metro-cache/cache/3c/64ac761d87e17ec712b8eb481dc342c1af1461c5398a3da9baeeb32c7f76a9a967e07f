{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.authenticatedFetch = authenticatedFetch;\n  exports.getBackendURL = getBackendURL;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  /**\n   * Helper function to make authenticated API requests\n   * On web, uses cookies automatically\n   * On mobile, uses Authorization header with token from AsyncStorage\n   */\n  async function authenticatedFetch(url, options = {}) {\n    const headers = Object.assign({\n      'Content-Type': 'application/json'\n    }, options.headers);\n\n    // On mobile, add Authorization header with token from AsyncStorage\n    if (Platform.default.OS !== 'web') {\n      const token = await AsyncStorage.default.getItem('session_token');\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    // Make the request\n    // On web, credentials: 'include' ensures cookies are sent\n    return fetch(url, Object.assign({}, options, {\n      headers,\n      credentials: 'include'\n    }));\n  }\n\n  /**\n   * Get the backend URL\n   */\n  function getBackendURL() {\n    return BACKEND_URL;\n  }\n});","lineCount":54,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"authenticatedFetch"],[12,28,16,0],[12,31,16,0,"authenticatedFetch"],[12,49,16,0],[13,2,42,0,"exports"],[13,9,42,0],[13,10,42,0,"getBackendURL"],[13,23,42,0],[13,26,42,0,"getBackendURL"],[13,39,42,0],[14,2,44,1],[14,6,44,1,"_expoVirtualEnv"],[14,21,44,1],[14,24,44,1,"require"],[14,31,44,1],[14,32,44,1,"_dependencyMap"],[14,46,44,1],[15,2,1,0],[15,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,42,1,0],[15,45,1,0,"require"],[15,52,1,0],[15,53,1,0,"_dependencyMap"],[15,67,1,0],[16,2,1,0],[16,6,1,0,"AsyncStorage"],[16,18,1,0],[16,21,1,0,"_interopDefault"],[16,36,1,0],[16,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[16,73,1,0],[17,2,2,0],[17,6,2,0,"_expoConstants"],[17,20,2,0],[17,23,2,0,"require"],[17,30,2,0],[17,31,2,0,"_dependencyMap"],[17,45,2,0],[18,2,2,0],[18,6,2,0,"Constants"],[18,15,2,0],[18,18,2,0,"_interopDefault"],[18,33,2,0],[18,34,2,0,"_expoConstants"],[18,48,2,0],[19,2,2,39],[19,6,2,39,"_reactNativeWebDistExportsPlatform"],[19,40,2,39],[19,43,2,39,"require"],[19,50,2,39],[19,51,2,39,"_dependencyMap"],[19,65,2,39],[20,2,2,39],[20,6,2,39,"Platform"],[20,14,2,39],[20,17,2,39,"_interopDefault"],[20,32,2,39],[20,33,2,39,"_reactNativeWebDistExportsPlatform"],[20,67,2,39],[21,2,5,0],[21,8,5,6,"BACKEND_URL"],[21,19,5,17],[21,22,5,20,"Constants"],[21,31,5,29],[21,32,5,29,"default"],[21,39,5,29],[21,40,5,30,"expoConfig"],[21,50,5,40],[21,52,5,42,"extra"],[21,57,5,47],[21,59,5,49,"EXPO_PUBLIC_BACKEND_URL"],[21,82,5,72],[21,86,5,72,"_expoVirtualEnv"],[21,101,5,72],[21,102,5,72,"env"],[21,105,5,72],[21,106,5,72,"EXPO_PUBLIC_BACKEND_URL"],[21,129,5,111],[21,133,5,115],[21,156,5,138],[22,2,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,2,16,7],[27,17,16,22,"authenticatedFetch"],[27,35,16,40,"authenticatedFetch"],[27,36,16,41,"url"],[27,39,16,52],[27,41,16,54,"options"],[27,48,16,75],[27,51,16,78],[27,52,16,79],[27,53,16,80],[27,55,16,101],[28,4,17,2],[28,10,17,8,"headers"],[28,17,17,39],[28,20,17,39,"Object"],[28,26,17,39],[28,27,17,39,"assign"],[28,33,17,39],[29,6,18,4],[29,20,18,18],[29,22,18,20],[30,4,18,38],[30,7,19,7,"options"],[30,14,19,14],[30,15,19,15,"headers"],[30,22,19,22],[30,23,20,3],[32,4,22,2],[33,4,23,2],[33,8,23,6,"Platform"],[33,16,23,14],[33,17,23,14,"default"],[33,24,23,14],[33,25,23,15,"OS"],[33,27,23,17],[33,32,23,22],[33,37,23,27],[33,39,23,29],[34,6,24,4],[34,12,24,10,"token"],[34,17,24,15],[34,20,24,18],[34,26,24,24,"AsyncStorage"],[34,38,24,36],[34,39,24,36,"default"],[34,46,24,36],[34,47,24,37,"getItem"],[34,54,24,44],[34,55,24,45],[34,70,24,60],[34,71,24,61],[35,6,25,4],[35,10,25,8,"token"],[35,15,25,13],[35,17,25,15],[36,8,26,6,"headers"],[36,15,26,13],[36,16,26,14],[36,31,26,29],[36,32,26,30],[36,35,26,33],[36,45,26,43,"token"],[36,50,26,48],[36,52,26,50],[37,6,27,4],[38,4,28,2],[40,4,30,2],[41,4,31,2],[42,4,32,2],[42,11,32,9,"fetch"],[42,16,32,14],[42,17,32,15,"url"],[42,20,32,18],[42,22,32,18,"Object"],[42,28,32,18],[42,29,32,18,"assign"],[42,35,32,18],[42,40,33,7,"options"],[42,47,33,14],[43,6,34,4,"headers"],[43,13,34,11],[44,6,35,4,"credentials"],[44,17,35,15],[44,19,35,17],[45,4,35,26],[45,6,36,3],[45,7,36,4],[46,2,37,0],[48,2,39,0],[49,0,40,0],[50,0,41,0],[51,2,42,7],[51,11,42,16,"getBackendURL"],[51,24,42,29,"getBackendURL"],[51,25,42,29],[51,27,42,40],[52,4,43,2],[52,11,43,9,"BACKEND_URL"],[52,22,43,20],[53,2,44,0],[54,0,44,1],[54,3]],"functionMap":{"names":["<global>","authenticatedFetch","getBackendURL"],"mappings":"AAA;OCe;CDqB;OEK;CFE"},"hasCjsExports":false},"type":"js/module"}]}