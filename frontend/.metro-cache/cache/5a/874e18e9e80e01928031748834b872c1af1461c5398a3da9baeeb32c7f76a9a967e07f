{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.authenticatedFetch = authenticatedFetch;\n  exports.getBackendURL = getBackendURL;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  /**\n   * Helper function to make authenticated API requests\n   * On web, uses cookies automatically\n   * On mobile, uses Authorization header with token from AsyncStorage\n   */\n  async function authenticatedFetch(url, options = {}) {\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n\n    // On mobile, add Authorization header with token from AsyncStorage\n    if (Platform.default.OS !== 'web') {\n      const token = await AsyncStorage.default.getItem('session_token');\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    // Make the request\n    // On web, credentials: 'include' ensures cookies are sent\n    return fetch(url, {\n      ...options,\n      headers,\n      credentials: 'include'\n    });\n  }\n\n  /**\n   * Get the backend URL\n   */\n  function getBackendURL() {\n    return BACKEND_URL;\n  }\n});","lineCount":55,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"authenticatedFetch"],[12,28,16,0],[12,31,16,0,"authenticatedFetch"],[12,49,16,0],[13,2,42,0,"exports"],[13,9,42,0],[13,10,42,0,"getBackendURL"],[13,23,42,0],[13,26,42,0,"getBackendURL"],[13,39,42,0],[14,2,1,0],[14,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[14,42,1,0],[14,45,1,0,"require"],[14,52,1,0],[14,53,1,0,"_dependencyMap"],[14,67,1,0],[15,2,1,0],[15,6,1,0,"AsyncStorage"],[15,18,1,0],[15,21,1,0,"_interopDefault"],[15,36,1,0],[15,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,73,1,0],[16,2,2,0],[16,6,2,0,"_expoConstants"],[16,20,2,0],[16,23,2,0,"require"],[16,30,2,0],[16,31,2,0,"_dependencyMap"],[16,45,2,0],[17,2,2,0],[17,6,2,0,"Constants"],[17,15,2,0],[17,18,2,0,"_interopDefault"],[17,33,2,0],[17,34,2,0,"_expoConstants"],[17,48,2,0],[18,2,2,39],[18,6,2,39,"_reactNativeWebDistExportsPlatform"],[18,40,2,39],[18,43,2,39,"require"],[18,50,2,39],[18,51,2,39,"_dependencyMap"],[18,65,2,39],[19,2,2,39],[19,6,2,39,"Platform"],[19,14,2,39],[19,17,2,39,"_interopDefault"],[19,32,2,39],[19,33,2,39,"_reactNativeWebDistExportsPlatform"],[19,67,2,39],[20,2,5,0],[20,8,5,6,"BACKEND_URL"],[20,19,5,17],[20,22,5,20,"Constants"],[20,31,5,29],[20,32,5,29,"default"],[20,39,5,29],[20,40,5,30,"expoConfig"],[20,50,5,40],[20,52,5,42,"extra"],[20,57,5,47],[20,59,5,49,"EXPO_PUBLIC_BACKEND_URL"],[20,82,5,72],[20,86,5,76,"process"],[20,93,5,83],[20,94,5,84,"env"],[20,97,5,87],[20,98,5,88,"EXPO_PUBLIC_BACKEND_URL"],[20,121,5,111],[20,125,5,115],[20,148,5,138],[21,2,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,2,16,7],[26,17,16,22,"authenticatedFetch"],[26,35,16,40,"authenticatedFetch"],[26,36,16,41,"url"],[26,39,16,52],[26,41,16,54,"options"],[26,48,16,75],[26,51,16,78],[26,52,16,79],[26,53,16,80],[26,55,16,101],[27,4,17,2],[27,10,17,8,"headers"],[27,17,17,39],[27,20,17,42],[28,6,18,4],[28,20,18,18],[28,22,18,20],[28,40,18,38],[29,6,19,4],[29,9,19,7,"options"],[29,16,19,14],[29,17,19,15,"headers"],[30,4,20,2],[30,5,20,3],[32,4,22,2],[33,4,23,2],[33,8,23,6,"Platform"],[33,16,23,14],[33,17,23,14,"default"],[33,24,23,14],[33,25,23,15,"OS"],[33,27,23,17],[33,32,23,22],[33,37,23,27],[33,39,23,29],[34,6,24,4],[34,12,24,10,"token"],[34,17,24,15],[34,20,24,18],[34,26,24,24,"AsyncStorage"],[34,38,24,36],[34,39,24,36,"default"],[34,46,24,36],[34,47,24,37,"getItem"],[34,54,24,44],[34,55,24,45],[34,70,24,60],[34,71,24,61],[35,6,25,4],[35,10,25,8,"token"],[35,15,25,13],[35,17,25,15],[36,8,26,6,"headers"],[36,15,26,13],[36,16,26,14],[36,31,26,29],[36,32,26,30],[36,35,26,33],[36,45,26,43,"token"],[36,50,26,48],[36,52,26,50],[37,6,27,4],[38,4,28,2],[40,4,30,2],[41,4,31,2],[42,4,32,2],[42,11,32,9,"fetch"],[42,16,32,14],[42,17,32,15,"url"],[42,20,32,18],[42,22,32,20],[43,6,33,4],[43,9,33,7,"options"],[43,16,33,14],[44,6,34,4,"headers"],[44,13,34,11],[45,6,35,4,"credentials"],[45,17,35,15],[45,19,35,17],[46,4,36,2],[46,5,36,3],[46,6,36,4],[47,2,37,0],[49,2,39,0],[50,0,40,0],[51,0,41,0],[52,2,42,7],[52,11,42,16,"getBackendURL"],[52,24,42,29,"getBackendURL"],[52,25,42,29],[52,27,42,40],[53,4,43,2],[53,11,43,9,"BACKEND_URL"],[53,22,43,20],[54,2,44,0],[55,0,44,1],[55,3]],"functionMap":{"names":["<global>","authenticatedFetch","getBackendURL"],"mappings":"AAA;OCe;CDqB;OEK;CFE"},"hasCjsExports":false},"type":"js/module"}]}