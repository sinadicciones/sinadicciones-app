{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.authenticatedFetch = authenticatedFetch;\n  exports.getBackendURL = getBackendURL;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://heal-journey-4.preview.emergentagent.com';\n  // Helper to get token from storage (works on both web and mobile)\n  const getToken = async () => {\n    if (Platform.default.OS === 'web' && false) {\n      return localStorage.getItem('session_token');\n    }\n    return await AsyncStorage.default.getItem('session_token');\n  };\n\n  /**\n   * Helper function to make authenticated API requests\n   * Uses Authorization header with token from storage\n   */\n  async function authenticatedFetch(url, options = {}) {\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n\n    // Add Authorization header with token from storage\n    const token = await getToken();\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    // Make the request\n    return fetch(url, {\n      ...options,\n      headers,\n      credentials: 'include'\n    });\n  }\n\n  /**\n   * Get the backend URL\n   */\n  function getBackendURL() {\n    return BACKEND_URL;\n  }\n});","lineCount":57,"map":[[12,2,22,0,"exports"],[12,9,22,0],[12,10,22,0,"authenticatedFetch"],[12,28,22,0],[12,31,22,0,"authenticatedFetch"],[12,49,22,0],[13,2,45,0,"exports"],[13,9,45,0],[13,10,45,0,"getBackendURL"],[13,23,45,0],[13,26,45,0,"getBackendURL"],[13,39,45,0],[14,2,1,0],[14,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[14,42,1,0],[14,45,1,0,"require"],[14,52,1,0],[14,53,1,0,"_dependencyMap"],[14,67,1,0],[15,2,1,0],[15,6,1,0,"AsyncStorage"],[15,18,1,0],[15,21,1,0,"_interopDefault"],[15,36,1,0],[15,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,73,1,0],[16,2,1,69],[16,6,1,69,"_reactNativeWebDistExportsPlatform"],[16,40,1,69],[16,43,1,69,"require"],[16,50,1,69],[16,51,1,69,"_dependencyMap"],[16,65,1,69],[17,2,1,69],[17,6,1,69,"Platform"],[17,14,1,69],[17,17,1,69,"_interopDefault"],[17,32,1,69],[17,33,1,69,"_reactNativeWebDistExportsPlatform"],[17,67,1,69],[18,2,4,0],[18,8,4,6,"BACKEND_URL"],[18,19,4,17],[18,22,4,20,"process"],[18,29,4,27],[18,30,4,28,"env"],[18,33,4,31],[18,34,4,32,"EXPO_PUBLIC_BACKEND_URL"],[18,57,4,55],[18,61,4,59],[18,111,4,109],[19,2,10,0],[20,2,11,0],[20,8,11,6,"getToken"],[20,16,11,14],[20,19,11,17],[20,25,11,17,"getToken"],[20,26,11,17],[20,31,11,53],[21,4,12,2],[21,8,12,6,"Platform"],[21,16,12,14],[21,17,12,14,"default"],[21,24,12,14],[21,25,12,15,"OS"],[21,27,12,17],[21,32,12,22],[21,37,12,27],[21,46,12,60],[21,48,12,62],[22,6,13,4],[22,13,13,11,"localStorage"],[22,25,13,23],[22,26,13,24,"getItem"],[22,33,13,31],[22,34,13,32],[22,49,13,47],[22,50,13,48],[23,4,14,2],[24,4,15,2],[24,11,15,9],[24,17,15,15,"AsyncStorage"],[24,29,15,27],[24,30,15,27,"default"],[24,37,15,27],[24,38,15,28,"getItem"],[24,45,15,35],[24,46,15,36],[24,61,15,51],[24,62,15,52],[25,2,16,0],[25,3,16,1],[27,2,18,0],[28,0,19,0],[29,0,20,0],[30,0,21,0],[31,2,22,7],[31,17,22,22,"authenticatedFetch"],[31,35,22,40,"authenticatedFetch"],[31,36,22,41,"url"],[31,39,22,52],[31,41,22,54,"options"],[31,48,22,75],[31,51,22,78],[31,52,22,79],[31,53,22,80],[31,55,22,101],[32,4,23,2],[32,10,23,8,"headers"],[32,17,23,39],[32,20,23,42],[33,6,24,4],[33,20,24,18],[33,22,24,20],[33,40,24,38],[34,6,25,4],[34,9,25,7,"options"],[34,16,25,14],[34,17,25,15,"headers"],[35,4,26,2],[35,5,26,3],[37,4,28,2],[38,4,29,2],[38,10,29,8,"token"],[38,15,29,13],[38,18,29,16],[38,24,29,22,"getToken"],[38,32,29,30],[38,33,29,31],[38,34,29,32],[39,4,30,2],[39,8,30,6,"token"],[39,13,30,11],[39,15,30,13],[40,6,31,4,"headers"],[40,13,31,11],[40,14,31,12],[40,29,31,27],[40,30,31,28],[40,33,31,31],[40,43,31,41,"token"],[40,48,31,46],[40,50,31,48],[41,4,32,2],[43,4,34,2],[44,4,35,2],[44,11,35,9,"fetch"],[44,16,35,14],[44,17,35,15,"url"],[44,20,35,18],[44,22,35,20],[45,6,36,4],[45,9,36,7,"options"],[45,16,36,14],[46,6,37,4,"headers"],[46,13,37,11],[47,6,38,4,"credentials"],[47,17,38,15],[47,19,38,17],[48,4,39,2],[48,5,39,3],[48,6,39,4],[49,2,40,0],[51,2,42,0],[52,0,43,0],[53,0,44,0],[54,2,45,7],[54,11,45,16,"getBackendURL"],[54,24,45,29,"getBackendURL"],[54,25,45,29],[54,27,45,40],[55,4,46,2],[55,11,46,9,"BACKEND_URL"],[55,22,46,20],[56,2,47,0],[57,0,47,1],[57,3]],"functionMap":{"names":["<global>","getToken","authenticatedFetch","getBackendURL"],"mappings":"AAA;iBCU;CDK;OEM;CFkB;OGK;CHE"},"hasCjsExports":false},"type":"js/module"}]}