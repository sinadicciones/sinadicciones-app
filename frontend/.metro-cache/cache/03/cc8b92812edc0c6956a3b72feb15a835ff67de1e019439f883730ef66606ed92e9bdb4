{"dependencies":[{"name":"./metroBuildErrorsFormat","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":33,"index":161},"end":{"line":4,"column":68,"index":196}}],"key":"ZAWx3pasXaL3400hx3P07bnRcGQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.parseWebBuildErrors = parseWebBuildErrors;\n  const metroBuildErrorsFormat_1 = require(_dependencyMap[0], \"./metroBuildErrorsFormat\");\n  /**\n   * Called in expo/cli, the return value is injected into the static error page which is bundled\n   * instead of the app when the web build fails.\n   */\n  function parseWebBuildErrors({\n    error,\n    projectRoot,\n    parseErrorStack\n  }) {\n    // NOTE: Ideally this will be merged with the parseWebHmrBuildErrors function\n    // Remap direct Metro Node.js errors to a format that will appear more client-friendly in the logbox UI.\n    let stack;\n    if (isTransformError(error) && error.filename) {\n      // Syntax errors in static rendering.\n      stack = [{\n        // Avoid using node:path to be compatible with web and RN runtime.\n        file: `${projectRoot}/${error.filename}`,\n        methodName: '<unknown>',\n        // TODO: Import stack\n        lineNumber: error.lineNumber,\n        column: error.column\n      }];\n    } else if ('originModulePath' in error && typeof error.originModulePath === 'string' && 'targetModuleName' in error && typeof error.targetModuleName === 'string' && 'cause' in error) {\n      const {\n        codeFrame\n      } = (0, metroBuildErrorsFormat_1.parseBabelCodeFrameError)(error.message) || {};\n      // We are purposely not using the parsed fileName or content here\n      // because we have the original data in the error object.\n      const content = `Unable to resolve module ${error.targetModuleName}`;\n      return {\n        level: 'resolution',\n        // TODO: Add import stacks\n        stack: [],\n        isComponentError: false,\n        componentStack: [],\n        codeFrame: codeFrame ? {\n          fileName: error.originModulePath,\n          location: null,\n          // We are not given the location.\n          content: codeFrame\n        } : undefined,\n        message: {\n          content,\n          substitutions: []\n        },\n        category: `${error.originModulePath}-${1}-${1}`\n      };\n    } else {\n      stack = parseErrorStack(projectRoot, error.stack);\n    }\n    return {\n      level: 'static',\n      message: {\n        content: error.message,\n        substitutions: []\n      },\n      isComponentError: false,\n      stack,\n      category: 'static',\n      componentStack: []\n    };\n  }\n  function isTransformError(error) {\n    return error.type === 'TransformError';\n  }\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"parseWebBuildErrors"],[7,29,3,27],[7,32,3,30,"parseWebBuildErrors"],[7,51,3,49],[8,2,4,0],[8,8,4,6,"metroBuildErrorsFormat_1"],[8,32,4,30],[8,35,4,33,"require"],[8,42,4,40],[8,43,4,40,"_dependencyMap"],[8,57,4,40],[8,88,4,67],[8,89,4,68],[9,2,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,2,9,0],[13,11,9,9,"parseWebBuildErrors"],[13,30,9,28,"parseWebBuildErrors"],[13,31,9,29],[14,4,9,31,"error"],[14,9,9,36],[15,4,9,38,"projectRoot"],[15,15,9,49],[16,4,9,51,"parseErrorStack"],[17,2,9,68],[17,3,9,69],[17,5,9,71],[18,4,10,4],[19,4,11,4],[20,4,12,4],[20,8,12,8,"stack"],[20,13,12,13],[21,4,13,4],[21,8,13,8,"isTransformError"],[21,24,13,24],[21,25,13,25,"error"],[21,30,13,30],[21,31,13,31],[21,35,13,35,"error"],[21,40,13,40],[21,41,13,41,"filename"],[21,49,13,49],[21,51,13,51],[22,6,14,8],[23,6,15,8,"stack"],[23,11,15,13],[23,14,15,16],[23,15,16,12],[24,8,17,16],[25,8,18,16,"file"],[25,12,18,20],[25,14,18,22],[25,17,18,25,"projectRoot"],[25,28,18,36],[25,32,18,40,"error"],[25,37,18,45],[25,38,18,46,"filename"],[25,46,18,54],[25,48,18,56],[26,8,19,16,"methodName"],[26,18,19,26],[26,20,19,28],[26,31,19,39],[27,8,20,16],[28,8,21,16,"lineNumber"],[28,18,21,26],[28,20,21,28,"error"],[28,25,21,33],[28,26,21,34,"lineNumber"],[28,36,21,44],[29,8,22,16,"column"],[29,14,22,22],[29,16,22,24,"error"],[29,21,22,29],[29,22,22,30,"column"],[30,6,23,12],[30,7,23,13],[30,8,24,9],[31,4,25,4],[31,5,25,5],[31,11,26,9],[31,15,26,13],[31,33,26,31],[31,37,26,35,"error"],[31,42,26,40],[31,46,27,8],[31,53,27,15,"error"],[31,58,27,20],[31,59,27,21,"originModulePath"],[31,75,27,37],[31,80,27,42],[31,88,27,50],[31,92,28,8],[31,110,28,26],[31,114,28,30,"error"],[31,119,28,35],[31,123,29,8],[31,130,29,15,"error"],[31,135,29,20],[31,136,29,21,"targetModuleName"],[31,152,29,37],[31,157,29,42],[31,165,29,50],[31,169,30,8],[31,176,30,15],[31,180,30,19,"error"],[31,185,30,24],[31,187,30,26],[32,6,31,8],[32,12,31,14],[33,8,31,16,"codeFrame"],[34,6,31,26],[34,7,31,27],[34,10,31,30],[34,11,31,31],[34,12,31,32],[34,14,31,34,"metroBuildErrorsFormat_1"],[34,38,31,58],[34,39,31,59,"parseBabelCodeFrameError"],[34,63,31,83],[34,65,31,85,"error"],[34,70,31,90],[34,71,31,91,"message"],[34,78,31,98],[34,79,31,99],[34,83,31,103],[34,84,31,104],[34,85,31,105],[35,6,32,8],[36,6,33,8],[37,6,34,8],[37,12,34,14,"content"],[37,19,34,21],[37,22,34,24],[37,50,34,52,"error"],[37,55,34,57],[37,56,34,58,"targetModuleName"],[37,72,34,74],[37,74,34,76],[38,6,35,8],[38,13,35,15],[39,8,36,12,"level"],[39,13,36,17],[39,15,36,19],[39,27,36,31],[40,8,37,12],[41,8,38,12,"stack"],[41,13,38,17],[41,15,38,19],[41,17,38,21],[42,8,39,12,"isComponentError"],[42,24,39,28],[42,26,39,30],[42,31,39,35],[43,8,40,12,"componentStack"],[43,22,40,26],[43,24,40,28],[43,26,40,30],[44,8,41,12,"codeFrame"],[44,17,41,21],[44,19,41,23,"codeFrame"],[44,28,41,32],[44,31,42,18],[45,10,43,20,"fileName"],[45,18,43,28],[45,20,43,30,"error"],[45,25,43,35],[45,26,43,36,"originModulePath"],[45,42,43,52],[46,10,44,20,"location"],[46,18,44,28],[46,20,44,30],[46,24,44,34],[47,10,44,36],[48,10,45,20,"content"],[48,17,45,27],[48,19,45,29,"codeFrame"],[49,8,46,16],[49,9,46,17],[49,12,47,18,"undefined"],[49,21,47,27],[50,8,48,12,"message"],[50,15,48,19],[50,17,48,21],[51,10,49,16,"content"],[51,17,49,23],[52,10,50,16,"substitutions"],[52,23,50,29],[52,25,50,31],[53,8,51,12],[53,9,51,13],[54,8,52,12,"category"],[54,16,52,20],[54,18,52,22],[54,21,52,25,"error"],[54,26,52,30],[54,27,52,31,"originModulePath"],[54,43,52,47],[54,47,52,51],[54,48,52,52],[54,52,52,56],[54,53,52,57],[55,6,53,8],[55,7,53,9],[56,4,54,4],[56,5,54,5],[56,11,55,9],[57,6,56,8,"stack"],[57,11,56,13],[57,14,56,16,"parseErrorStack"],[57,29,56,31],[57,30,56,32,"projectRoot"],[57,41,56,43],[57,43,56,45,"error"],[57,48,56,50],[57,49,56,51,"stack"],[57,54,56,56],[57,55,56,57],[58,4,57,4],[59,4,58,4],[59,11,58,11],[60,6,59,8,"level"],[60,11,59,13],[60,13,59,15],[60,21,59,23],[61,6,60,8,"message"],[61,13,60,15],[61,15,60,17],[62,8,61,12,"content"],[62,15,61,19],[62,17,61,21,"error"],[62,22,61,26],[62,23,61,27,"message"],[62,30,61,34],[63,8,62,12,"substitutions"],[63,21,62,25],[63,23,62,27],[64,6,63,8],[64,7,63,9],[65,6,64,8,"isComponentError"],[65,22,64,24],[65,24,64,26],[65,29,64,31],[66,6,65,8,"stack"],[66,11,65,13],[67,6,66,8,"category"],[67,14,66,16],[67,16,66,18],[67,24,66,26],[68,6,67,8,"componentStack"],[68,20,67,22],[68,22,67,24],[69,4,68,4],[69,5,68,5],[70,2,69,0],[71,2,70,0],[71,11,70,9,"isTransformError"],[71,27,70,25,"isTransformError"],[71,28,70,26,"error"],[71,33,70,31],[71,35,70,33],[72,4,71,4],[72,11,71,11,"error"],[72,16,71,16],[72,17,71,17,"type"],[72,21,71,21],[72,26,71,26],[72,42,71,42],[73,2,72,0],[74,0,72,1],[74,3]],"functionMap":{"names":["<global>","parseWebBuildErrors","isTransformError"],"mappings":"AAA;ACQ;CD4D;AEC;CFE"},"hasCjsExports":true},"type":"js/module"}]}