{"dependencies":[{"name":"@react-navigation/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":77,"index":92}}],"key":"Wm75LgE4xYscVWo0KoLFlflJQCo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":93},"end":{"line":4,"column":26,"index":119}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":120},"end":{"line":5,"column":52,"index":172}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"./LinkingContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":173},"end":{"line":6,"column":53,"index":226}}],"key":"r/0Yvi+HouDAqn4vN4m4I6AMfEI=","exportNames":["*"],"imports":1}},{"name":"./UnhandledLinkingContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":227},"end":{"line":7,"column":71,"index":298}}],"key":"4bj4SmNbRtH5ACzulwdy6l1c5bQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.UNSTABLE_useUnhandledLinking = UNSTABLE_useUnhandledLinking;\n  var _reactNavigationCore = require(_dependencyMap[0], \"@react-navigation/core\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopDefault(_react);\n  var _useLatestCallback = require(_dependencyMap[2], \"use-latest-callback\");\n  var useLatestCallback = _interopDefault(_useLatestCallback);\n  var _LinkingContextJs = require(_dependencyMap[3], \"./LinkingContext.js\");\n  var _UnhandledLinkingContextJs = require(_dependencyMap[4], \"./UnhandledLinkingContext.js\");\n  // FIXME: don't rely on depth only to get the navigator state\n  function extractNavigatorSpecificState(_, pathState, depth) {\n    let partialPathState = pathState;\n    let currentDepth = depth;\n    while (currentDepth) {\n      if (!partialPathState) {\n        return undefined;\n      }\n      partialPathState = partialPathState.routes[partialPathState.routes.length - 1].state;\n      currentDepth--;\n    }\n    return partialPathState;\n  }\n  function UNSTABLE_useUnhandledLinking() {\n    const navigation = React.default.useContext(_reactNavigationCore.NavigationContext);\n    const linking = React.default.useContext(_LinkingContextJs.LinkingContext);\n    const {\n      setLastUnhandledLink,\n      lastUnhandledLink\n    } = React.default.useContext(_UnhandledLinkingContextJs.UnhandledLinkingContext);\n    const {\n      options\n    } = linking;\n    const getStateForRouteNamesChange = currentState => {\n      if (lastUnhandledLink == null) {\n        // noop, nothing to handle\n        return;\n      }\n\n      // at web, the path is already extracted\n      const path = lastUnhandledLink;\n      if (!lastUnhandledLink) {\n        return;\n      }\n\n      // First, we parse the URL to get the desired state\n      const getStateFromPathHelper = options?.getStateFromPath ?? _reactNavigationCore.getStateFromPath;\n      const pathState = getStateFromPathHelper(path, options?.config);\n      if (!pathState) {\n        return;\n      }\n      let depth = 0;\n      let parent = navigation;\n      while (parent) {\n        depth++;\n        parent = parent.getParent();\n      }\n      const state = extractNavigatorSpecificState(currentState, pathState, depth);\n      if (!state) {\n        return;\n      }\n      return state;\n    };\n    const clearUnhandledLink = (0, useLatestCallback.default)(() => {\n      setLastUnhandledLink(undefined);\n    });\n    return {\n      lastUnhandledLink,\n      getStateForRouteNamesChange,\n      clearUnhandledLink\n    };\n  }\n});","lineCount":82,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,22,0,"exports"],[12,9,22,0],[12,10,22,0,"UNSTABLE_useUnhandledLinking"],[12,38,22,0],[12,41,22,0,"UNSTABLE_useUnhandledLinking"],[12,69,22,0],[13,2,3,0],[13,6,3,0,"_reactNavigationCore"],[13,26,3,0],[13,29,3,0,"require"],[13,36,3,0],[13,37,3,0,"_dependencyMap"],[13,51,3,0],[14,2,4,0],[14,6,4,0,"_react"],[14,12,4,0],[14,15,4,0,"require"],[14,22,4,0],[14,23,4,0,"_dependencyMap"],[14,37,4,0],[15,2,4,0],[15,6,4,0,"React"],[15,11,4,0],[15,14,4,0,"_interopDefault"],[15,29,4,0],[15,30,4,0,"_react"],[15,36,4,0],[16,2,5,0],[16,6,5,0,"_useLatestCallback"],[16,24,5,0],[16,27,5,0,"require"],[16,34,5,0],[16,35,5,0,"_dependencyMap"],[16,49,5,0],[17,2,5,0],[17,6,5,0,"useLatestCallback"],[17,23,5,0],[17,26,5,0,"_interopDefault"],[17,41,5,0],[17,42,5,0,"_useLatestCallback"],[17,60,5,0],[18,2,6,0],[18,6,6,0,"_LinkingContextJs"],[18,23,6,0],[18,26,6,0,"require"],[18,33,6,0],[18,34,6,0,"_dependencyMap"],[18,48,6,0],[19,2,7,0],[19,6,7,0,"_UnhandledLinkingContextJs"],[19,32,7,0],[19,35,7,0,"require"],[19,42,7,0],[19,43,7,0,"_dependencyMap"],[19,57,7,0],[20,2,9,0],[21,2,10,0],[21,11,10,9,"extractNavigatorSpecificState"],[21,40,10,38,"extractNavigatorSpecificState"],[21,41,10,39,"_"],[21,42,10,40],[21,44,10,42,"pathState"],[21,53,10,51],[21,55,10,53,"depth"],[21,60,10,58],[21,62,10,60],[22,4,11,2],[22,8,11,6,"partialPathState"],[22,24,11,22],[22,27,11,25,"pathState"],[22,36,11,34],[23,4,12,2],[23,8,12,6,"currentDepth"],[23,20,12,18],[23,23,12,21,"depth"],[23,28,12,26],[24,4,13,2],[24,11,13,9,"currentDepth"],[24,23,13,21],[24,25,13,23],[25,6,14,4],[25,10,14,8],[25,11,14,9,"partialPathState"],[25,27,14,25],[25,29,14,27],[26,8,15,6],[26,15,15,13,"undefined"],[26,24,15,22],[27,6,16,4],[28,6,17,4,"partialPathState"],[28,22,17,20],[28,25,17,23,"partialPathState"],[28,41,17,39],[28,42,17,40,"routes"],[28,48,17,46],[28,49,17,47,"partialPathState"],[28,65,17,63],[28,66,17,64,"routes"],[28,72,17,70],[28,73,17,71,"length"],[28,79,17,77],[28,82,17,80],[28,83,17,81],[28,84,17,82],[28,85,17,83,"state"],[28,90,17,88],[29,6,18,4,"currentDepth"],[29,18,18,16],[29,20,18,18],[30,4,19,2],[31,4,20,2],[31,11,20,9,"partialPathState"],[31,27,20,25],[32,2,21,0],[33,2,22,7],[33,11,22,16,"UNSTABLE_useUnhandledLinking"],[33,39,22,44,"UNSTABLE_useUnhandledLinking"],[33,40,22,44],[33,42,22,47],[34,4,23,2],[34,10,23,8,"navigation"],[34,20,23,18],[34,23,23,21,"React"],[34,28,23,26],[34,29,23,26,"default"],[34,36,23,26],[34,37,23,27,"useContext"],[34,47,23,37],[34,48,23,38,"NavigationContext"],[34,68,23,55],[34,69,23,55,"NavigationContext"],[34,86,23,55],[34,87,23,56],[35,4,24,2],[35,10,24,8,"linking"],[35,17,24,15],[35,20,24,18,"React"],[35,25,24,23],[35,26,24,23,"default"],[35,33,24,23],[35,34,24,24,"useContext"],[35,44,24,34],[35,45,24,35,"LinkingContext"],[35,62,24,49],[35,63,24,49,"LinkingContext"],[35,77,24,49],[35,78,24,50],[36,4,25,2],[36,10,25,8],[37,6,26,4,"setLastUnhandledLink"],[37,26,26,24],[38,6,27,4,"lastUnhandledLink"],[39,4,28,2],[39,5,28,3],[39,8,28,6,"React"],[39,13,28,11],[39,14,28,11,"default"],[39,21,28,11],[39,22,28,12,"useContext"],[39,32,28,22],[39,33,28,23,"UnhandledLinkingContext"],[39,59,28,46],[39,60,28,46,"UnhandledLinkingContext"],[39,83,28,46],[39,84,28,47],[40,4,29,2],[40,10,29,8],[41,6,30,4,"options"],[42,4,31,2],[42,5,31,3],[42,8,31,6,"linking"],[42,15,31,13],[43,4,32,2],[43,10,32,8,"getStateForRouteNamesChange"],[43,37,32,35],[43,40,32,38,"currentState"],[43,52,32,50],[43,56,32,54],[44,6,33,4],[44,10,33,8,"lastUnhandledLink"],[44,27,33,25],[44,31,33,29],[44,35,33,33],[44,37,33,35],[45,8,34,6],[46,8,35,6],[47,6,36,4],[49,6,38,4],[50,6,39,4],[50,12,39,10,"path"],[50,16,39,14],[50,19,39,17,"lastUnhandledLink"],[50,36,39,34],[51,6,40,4],[51,10,40,8],[51,11,40,9,"lastUnhandledLink"],[51,28,40,26],[51,30,40,28],[52,8,41,6],[53,6,42,4],[55,6,44,4],[56,6,45,4],[56,12,45,10,"getStateFromPathHelper"],[56,34,45,32],[56,37,45,35,"options"],[56,44,45,42],[56,46,45,44,"getStateFromPath"],[56,62,45,60],[56,66,45,64,"getStateFromPath"],[56,86,45,80],[56,87,45,80,"getStateFromPath"],[56,103,45,80],[57,6,46,4],[57,12,46,10,"pathState"],[57,21,46,19],[57,24,46,22,"getStateFromPathHelper"],[57,46,46,44],[57,47,46,45,"path"],[57,51,46,49],[57,53,46,51,"options"],[57,60,46,58],[57,62,46,60,"config"],[57,68,46,66],[57,69,46,67],[58,6,47,4],[58,10,47,8],[58,11,47,9,"pathState"],[58,20,47,18],[58,22,47,20],[59,8,48,6],[60,6,49,4],[61,6,50,4],[61,10,50,8,"depth"],[61,15,50,13],[61,18,50,16],[61,19,50,17],[62,6,51,4],[62,10,51,8,"parent"],[62,16,51,14],[62,19,51,17,"navigation"],[62,29,51,27],[63,6,52,4],[63,13,52,11,"parent"],[63,19,52,17],[63,21,52,19],[64,8,53,6,"depth"],[64,13,53,11],[64,15,53,13],[65,8,54,6,"parent"],[65,14,54,12],[65,17,54,15,"parent"],[65,23,54,21],[65,24,54,22,"getParent"],[65,33,54,31],[65,34,54,32],[65,35,54,33],[66,6,55,4],[67,6,56,4],[67,12,56,10,"state"],[67,17,56,15],[67,20,56,18,"extractNavigatorSpecificState"],[67,49,56,47],[67,50,56,48,"currentState"],[67,62,56,60],[67,64,56,62,"pathState"],[67,73,56,71],[67,75,56,73,"depth"],[67,80,56,78],[67,81,56,79],[68,6,57,4],[68,10,57,8],[68,11,57,9,"state"],[68,16,57,14],[68,18,57,16],[69,8,58,6],[70,6,59,4],[71,6,60,4],[71,13,60,11,"state"],[71,18,60,16],[72,4,61,2],[72,5,61,3],[73,4,62,2],[73,10,62,8,"clearUnhandledLink"],[73,28,62,26],[73,31,62,29],[73,35,62,29,"useLatestCallback"],[73,52,62,46],[73,53,62,46,"default"],[73,60,62,46],[73,62,62,47],[73,68,62,53],[74,6,63,4,"setLastUnhandledLink"],[74,26,63,24],[74,27,63,25,"undefined"],[74,36,63,34],[74,37,63,35],[75,4,64,2],[75,5,64,3],[75,6,64,4],[76,4,65,2],[76,11,65,9],[77,6,66,4,"lastUnhandledLink"],[77,23,66,21],[78,6,67,4,"getStateForRouteNamesChange"],[78,33,67,31],[79,6,68,4,"clearUnhandledLink"],[80,4,69,2],[80,5,69,3],[81,2,70,0],[82,0,70,1],[82,3]],"functionMap":{"names":["<global>","extractNavigatorSpecificState","UNSTABLE_useUnhandledLinking","getStateForRouteNamesChange","useLatestCallback$argument_0"],"mappings":"AAA;ACS;CDW;OEC;sCCU;GD6B;+CEC;GFE;CFM"},"hasCjsExports":false},"type":"js/module"}]}